{% assign trendingUp = Queries.GetTrending | query: type: Model.ContentItem.Content.TileTrending.ContentType.Text, limit: 3 %}
{% assign trendingDown = Queries.GetTrending | query: type: Model.ContentItem.Content.TileTrending.ContentType.Text, limit: 3 %}

<div class="{{ Model.ContentItem.Content.TileTrending.Size.Text }} my-3 d-flex flex-grow-1">
  <div class="tile">
    <div class="tile-header">
      <div class="icon">
        <i class="{{ Model.ContentItem.Content.TileTrending.Icon.Text }} fa-3x"></i>
      </div>
      <div class="ml-2">
        <h3 class="h4 text-white">{{ Model.ContentItem.Content.TileTrending.Title.Text }}</h3>
        <div>{{ Model.ContentItem.Content.TileTrending.Description.Text }}</div>
      </div>
    </div>
    <div class="tile-body">
      <div class="d-flex align-items-center py-3 offset-2">
        <span class="h1 text-secondary mr-4">
          <i class="fas fa-plane-departure"></i>
        </span>
        <ul class="list-unstyled">
        {% for contentitem in trendingUp %}
          <li>
            {{ contentitem | shape_build_display: 'Summary' | clone_properties: Model | shape_render  }}
          </li>
        {% endfor %}
        </ul>
      </div>
      <div class="d-flex align-items-center py-3 offset-2">
        <span class="h1 text-secondary mr-4">
          <i class="fas fa-plane-arrival"></i>
        </span>
        <ul class="list-unstyled">
        {% for contentitem in trendingDown %}
          <li>
            {{ contentitem | shape_build_display: 'Summary' | clone_properties: Model | shape_render  }}
          </li>
        {% endfor %}
        </ul>
      </div>
    </div>
    <div class="tile-footer">
      <a href="{{ '~/' | append: Model.ContentItem | href }}" class="btn btn-light text-uppercase">All {{ Model.ContentItem.Content.TileTrending.Title.Text | downcase }}</a>
    </div>
  </div>
</div>